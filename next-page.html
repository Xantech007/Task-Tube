<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Payment Confirmation</title>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Roboto', sans-serif;
        }

        body {
            background: linear-gradient(135deg, #1e1e2f, #2a2a4a);
            color: #e0e0e0;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            justify-content: space-between;
            animation: fadeIn 0.6s ease-in;
        }

        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }

        .up {
            width: 100%;
            max-width: 600px;
            margin: 2rem auto;
            text-align: center;
            padding: 2rem;
            animation: glowPulse 1.5s infinite alternate;
        }

        @keyframes glowPulse {
            from { filter: drop-shadow(0 0 5px rgba(0, 255, 128, 0.2)); }
            to { filter: drop-shadow(0 0 15px rgba(0, 255, 128, 0.4)); }
        }

        .up img {
            width: 80px;
            margin-bottom: 1rem;
            filter: brightness(1.2);
        }

        .up p {
            color: #00ff80;
            font-size: 1.5rem;
            font-weight: 500;
            margin-bottom: 0.75rem;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .up h2 {
            color: #ffffff;
            font-size: 2.25rem;
            font-weight: 700;
            text-shadow: 0 0 10px rgba(0, 255, 128, 0.5);
        }

        .box {
            width: 100%;
            max-width: 600px;
            margin: 0 auto 2rem;
            background: rgba(255, 255, 255, 0.05);
            backdrop-filter: blur(10px);
            border-radius: 16px;
            border: 1px solid rgba(255, 255, 255, 0.1);
            padding: 1.5rem;
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.2);
        }

        .small {
            background: rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            padding: 1rem;
            text-align: center;
            margin-bottom: 1.5rem;
        }

        .small h3 {
            color: #ffffff;
            font-size: 1.6rem;
            font-weight: 600;
            letter-spacing: 0.5px;
        }

        .box p {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0.8rem 1rem;
            font-size: 1rem;
            color: #d0d0d0;
            font-weight: 400;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            transition: background 0.2s;
        }

        .box p:hover {
            background: rgba(255, 255, 255, 0.05);
        }

        .box p:last-child {
            border-bottom: none;
        }

        .box span {
            color: #ffffff;
            font-weight: 500;
        }

        .footer {
            width: 100%;
            padding: 1.5rem;
            background: rgba(0, 0, 0, 0.3);
            backdrop-filter: blur(8px);
            border-top: 1px solid rgba(255, 255, 255, 0.1);
        }

        .footer button {
            width: 100%;
            max-width: 300px;
            height: 50px;
            font-size: 1.2rem;
            font-weight: 500;
            color: #ffffff;
            background: linear-gradient(90deg, #ff007a, #00ff80);
            border: none;
            border-radius: 25px;
            display: block;
            margin: 0 auto;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(0, 255, 128, 0.3);
        }

        .footer button:hover {
            transform: scale(1.05);
            box-shadow: 0 6px 20px rgba(0, 255, 128, 0.5);
        }

        a {
            color: inherit;
            text-decoration: none;
        }

        /* Responsive Design */
        @media (max-width: 600px) {
            .up, .box {
                width: 90%;
            }

            .up h2 {
                font-size: 1.8rem;
            }

            .small h3 {
                font-size: 1.3rem;
            }

            .box p {
                font-size: 0.95rem;
            }

            .footer button {
                max-width: 250px;
                height: 45px;
                font-size: 1rem;
            }
        }
    </style>
</head>
<body>
    <div class="up">
        <img src="img/smallcheck.png" alt="Success Icon">
        <p>Payment Success!</p>
        <h2>$<span id="amountDisplay"></span></h2>
    </div>

    <div class="box">
        <div class="small">
            <h3>Payment Details</h3>
        </div>
        <p>Ref Number <span id="randomString"></span></p>
        <p>Payment Time <span id="datetime"></span></p>
        <p id="methodLabel">Withdrawal Method <span id="methodDisplay"></span></p>
        <p id="cryptoAddressField" style="display: none;">Crypto Wallet Address <span id="cryptoAddressDisplay"></span></p>
        <p id="cashappTagField" style="display: none;">Cash App $Cashtag <span id="cashappTagDisplay"></span></p>
        <p id="bankNameField" style="display: none;">Bank Name <span id="bankNameDisplay"></span></p>
        <p id="accountNumberField" style="display: none;">Account Number <span id="accountNumberDisplay"></span></p>
        <p id="routingNumberField" style="display: none;">Routing Number <span id="routingNumberDisplay"></span></p>
        <p>From <span>Task Tube</span></p>
        <p>Payment Status <span>Success</span></p>
    </div>

    <div class="footer">
        <button><a href='https://tasktube.app/home'>Back to Home</a></button>
    </div>

    <script>
        // Retrieve withdrawal data from localStorage
        const withdrawalData = JSON.parse(localStorage.getItem('withdrawalData')) || {};

        // Display amount
        const amountDisplay = document.getElementById('amountDisplay');
        amountDisplay.textContent = parseFloat(withdrawalData.amount || '0').toFixed(2);

        // Generate and display random reference number
        const randomString = document.getElementById('randomString');
        const characters = 'ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789';
        let result = '';
        for (let i = 0; i < 10; i++) {
            result += characters.charAt(Math.floor(Math.random() * characters.length));
        }
        randomString.textContent = result;

        // Display current date and time
        const datetime = document.getElementById('datetime');
        const now = new Date();
        datetime.textContent = now.toLocaleString('en-US', {
            year: 'numeric',
            month: 'long',
            day: 'numeric',
            hour: '2-digit',
            minute: '2-digit',
            second: '2-digit',
            hour12: true
        });

        // Display withdrawal method and relevant details
        const methodDisplay = document.getElementById('methodDisplay');
        const cryptoAddressField = document.getElementById('cryptoAddressField');
        const cashappTagField = document.getElementById('cashappTagField');
        const bankNameField = document.getElementById('bankNameField');
        const accountNumberField = document.getElementById('accountNumberField');
        const routingNumberField = document.getElementById('routingNumberField');
        const cryptoAddressDisplay = document.getElementById('cryptoAddressDisplay');
        const cashappTagDisplay = document.getElementById('cashappTagDisplay');
        const bankNameDisplay = document.getElementById('bankNameDisplay');
        const accountNumberDisplay = document.getElementById('accountNumberDisplay');
        const routingNumberDisplay = document.getElementById('routingNumberDisplay');

        // Capitalize the first letter of the method for display
        const method = withdrawalData.method || 'unknown';
        methodDisplay.textContent = method.charAt(0).toUpperCase() + method.slice(1);

        // Show relevant fields based on withdrawal method
        if (withdrawalData.method === 'crypto') {
            cryptoAddressField.style.display = 'flex';
            cryptoAddressDisplay.textContent = withdrawalData.cryptoAddress || 'N/A';
        } else if (withdrawalData.method === 'cashapp') {
            cashappTagField.style.display = 'flex';
            cashappTagDisplay.textContent = withdrawalData.cashappTag || 'N/A';
        } else if (withdrawalData.method === 'bank') {
            bankNameField.style.display = 'flex';
            accountNumberField.style.display = 'flex';
            routingNumberField.style.display = 'flex';
            bankNameDisplay.textContent = withdrawalData.bankName || 'N/A';
            accountNumberDisplay.textContent = withdrawalData.accountNumber || 'N/A';
            routingNumberDisplay.textContent = withdrawalData.routingNumber || 'N/A';
        }
    </script>

    <!-- Start of LiveChat (www.livechat.com) code -->
    <script>
        window.__lc = window.__lc || {};
        window.__lc.license = 15808029;
        ;(function(n,t,c){function i(n){return e._h?e._h.apply(null,n):e._q.push(n)}var e={_q:[],_h:null,_v:"2.0",on:function(){i(["on",c.call(arguments)])},once:function(){i(["once",c.call(arguments)])},off:function(){i(["off",c.call(arguments)])},get:function(){if(!e._h)throw new Error("[LiveChatWidget] You can't use getters before load.");return i(["get",c.call(arguments)])},call:function(){i(["call",c.call(arguments)])},init:function(){var n=t.createElement("script");n.async=!0,n.type="text/javascript",n.src="https://cdn.livechatinc.com/tracking.js",t.head.appendChild(n)}};!n.__lc.asyncInit&&e.init(),n.LiveChatWidget=n.LiveChatWidget||e}(window,document,[].slice))
    </script>
    <noscript><a href="https://www.livechat.com/chat-with/15808029/" rel="nofollow">Chat with us</a>, powered by <a href="https://www.livechat.com/?welcome" rel="noopener nofollow" target="_blank">LiveChat</a></noscript>
    <!-- End of LiveChat code -->
</body>
</html>

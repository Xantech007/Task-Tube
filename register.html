<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.1.0/jquery.min.js"></script>
<script>
    // Load Header, Navbar, and Footer
    $(function() {
        $("#header-placeholder").load("inc/header.html");
        $("#navbar-placeholder").load("inc/navbar.html");
        $("#footer-placeholder").load("inc/footer.html");
    });

    // Hamburger Menu
    const button = document.getElementById('hamburger-menu');
    button.addEventListener('click', function() {
        const span = button.getElementsByTagName('span')[0];
        span.classList.toggle('hamburger-menu-button-close');
        document.getElementById('ham-navigation').classList.toggle('on');
    });

    $('.menu li a').on('click', function() {
        $('#hamburger-menu').click();
    });

    // Form Submission
    document.getElementById('register-form').addEventListener('submit', function(e) {
        e.preventDefault();
        const name = document.getElementById('name').value;
        const email = document.getElementById('email').value;
        const gender = document.querySelector('input[name="gender"]:checked').value;

        // Send data to register-finish.php via AJAX
        $.ajax({
            url: 'register-finish.php',
            type: 'POST',
            data: {
                registerData: JSON.stringify({ name, email, gender })
            },
            success: function() {
                Swal.fire({
                    icon: 'success',
                    title: 'Registration Successful!',
                    text: 'Your account has been created.',
                    timer: 2000,
                    showConfirmButton: false
                }).then(() => {
                    window.location.href = 'register-finish.php';
                });
            },
            error: function() {
                Swal.fire({
                    icon: 'error',
                    title: 'Oops...',
                    text: 'Registration failed. Please try again.',
                });
            }
        });
    });

    // Prevent right-click
    document.addEventListener('contextmenu', e => e.preventDefault());
</script>
